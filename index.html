<!--
Copyright (C) 2022  Nat Zimmermann

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OSM Address Collector</title>

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/favicon-16x16.png"
    />
    <link rel="manifest" href="assets/site.webmanifest" />
    <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="theme-color" content="#ffffff" />

    <link rel="stylesheet" href="src/style.css" />
  </head>
  <body>
    <div id="map-container">
      <button id="close-map">Close map</button>
      <div id="map"></div>
    </div>

    <div id="settings">
      <button id="close-settings">x</button>

      <div class="setting-category">
        <h2 class="setting-category__heading" id="setting-street">
          <span class="setting-category__info">ⓘ</span>
          Street
        </h2>

        <datalist id="streets">
        </datalist>

        <div class="setting">
          <input class="setting-input" type="text" id="street" list="streets" placeholder="Street" autocomplete="off" />
        </div>

        <div class="setting">
          <button class="setting-button" id="update-streets">Get streets</button>
          <span class="status" id="update-streets-status">No streets</span>
          <p class="disclaimer">Street data from <a href="https://openstreetmap.org/copyright" target="_blank">OpenStreetMap</a></p>
        </div>

        <div class="setting">
          <label for="street-search-distance">Street search distance: <span id="street-search-distance-display"></span>m</label>
          <br>
          <input class="setting-input" type="range" id="street-search-distance" min="0" max="50">
        </div>
      </div>

      <div class="setting-category">
        <h2 class="setting-category__heading" id="setting-custom-tags">
          <span class="setting-category__info">ⓘ</span>
          Custom tags
        </h2>

        <datalist id="tag-keys">
          <option value="addr:city" />
          <option value="addr:postcode" />
          <option value="addr:country" />
          <option value="addr:state" />
          <option value="addr:place" />
          <option value="addr:suburb" />
          <option value="addr:province" />
          <option value="addr:district" />
          <option value="addr:subdistrict" />
          <option value="addr:hamlet" />
          <option value="addr:village" />
          <option value="addr:town" />
          <option value="addr:county" />
        </datalist>

        <div class="setting">
          <div class="setting-list">
            <div id="custom-tags"></div>
            <button class="setting-list__add" id="add-custom-tag">+</button>
          </div>
        </div>
      </div>

      <div class="setting-category">
        <h2 class="setting-category__heading" id="setting-general">
          <span class="setting-category__info">ⓘ</span>
          General
        </h2>

        <div class="setting">
          <label for="distance">Throw distance: <span id="distance-display"></span>m</label>
          <input class="setting-input" type="range" id="distance" min="1" max="100" />
        </div>
      </div>

      <div class="setting-category">
        <h2 class="setting-category__heading" id="setting-skip-numbers">
          <span class="setting-category__info">ⓘ</span>
          Skip numbers
        </h2>

        <div class="setting">
          <div class="setting-list">
            <div id="skip-numbers"></div>
            <button class="setting-list__add" id="add-skip-number">+</button>
          </div>
        </div>
      </div>

      <div class="setting-category">
        <h2 class="setting-category__heading">Info</h2>

        <div class="setting">
          <a href="https://github.com/ntzm/osm-address-collector/blob/main/CHANGELOG.md" target="_blank">Latest changes</a>
        </div>

        <div class="setting">
          <a href="https://github.com/ntzm/osm-address-collector" target="_blank">GitHub</a>
        </div>

        <div class="setting">
          <a href="https://github.com/ntzm/osm-address-collector/issues/new" target="_blank">Report a bug or request a feature</a>
        </div>
      </div>

      <div class="setting-category">
        <h2 class="setting-category__heading" id="setting-advanced">
          <span class="setting-category__info">ⓘ</span>
          Advanced
        </h2>

        <div class="setting">
          Orientation provider: <span id="orientation-provider">None</span>
        </div>

        <div class="setting">
          Orientation: <span id="orientation">N/A</span>
        </div>

        <div class="setting">
          <label for="overpass-timeout">Overpass timeout (milliseconds)</label>
          <input class="setting-input" type="number" id="overpass-timeout" />
        </div>

        <div class="setting">
          <label for="overpass-endpoint">Overpass endpoint</label>
          <input class="setting-input" type="text" id="overpass-endpoint" />
        </div>

        <div class="setting">
          <button class="setting-button" id="reset-settings">Reset settings</button>
        </div>

        <div class="setting">
          <button class="setting-button" id="show-logs">Update logs</button>
          <textarea class="setting-input" id="logs" readonly></textarea>
        </div>
      </div>
    </div>

    <div id="note-writer">
      <button id="close-note-writer">x</button>
      <p>Add a note</p>
      <textarea id="note-content"></textarea>
      <button id="save-note">Save</button>
    </div>

    <div class="container">
      <div class="row">
        <div class="info" id="open-map">
          <img class="info-icon" src="public/assets/icons/map_black_24dp.svg" />
          <span id="accuracy">N/A</span>
        </div>
        <div class="info">
          <img class="info-icon" src="public/assets/icons/history_black_24dp.svg" />
          <ul id="history"></ul>
        </div>
        <div class="info" id="open-settings">
          <img class="info-icon" src="public/assets/icons/settings_black_24dp.svg" />
        </div>
      </div>

      <div class="row">
        <input type="text" id="current-number-or-name" autocapitalize="words" />
      </div>

      <div class="row">
        <button class="submit disabled" data-direction="L">
          <img class="button-icon" src="public/assets/icons/arrow_upward_black_24dp.svg" style="transform: rotate(-90deg)" />
        </button>
        <button class="submit disabled" data-direction="F">
          <img class="button-icon" src="public/assets/icons/arrow_upward_black_24dp.svg" />
        </button>
        <button class="submit disabled" data-direction="R">
          <img class="button-icon" src="public/assets/icons/arrow_upward_black_24dp.svg" style="transform: rotate(90deg)" />
        </button>
      </div>

      <div class="row">
        <button class="append disabled" data-number="1">1</button>
        <button class="append disabled" data-number="2">2</button>
        <button class="append disabled" data-number="3">3</button>
      </div>

      <div class="row">
        <button class="append disabled" data-number="4">4</button>
        <button class="append disabled" data-number="5">5</button>
        <button class="append disabled" data-number="6">6</button>
      </div>

      <div class="row">
        <button class="append disabled" data-number="7">7</button>
        <button class="append disabled" data-number="8">8</button>
        <button class="append disabled" data-number="9">9</button>
      </div>

      <div class="row">
        <button id="start-or-pause">Start</button>
        <button class="append disabled" data-number="0">0</button>
        <button id="clear" class="disabled">
          <img src="public/assets/icons/clear_black_24dp.svg" />
        </button>
      </div>

      <div class="row">
        <button id="add-note" class="disabled">
          <img class="button-icon" src="public/assets/icons/note_black_24dp.svg" />
        </button>
        <button id="done" class="disabled">Done</a>
        <button id="undo" class="disabled">
          <img class="button-icon" src="public/assets/icons/undo_black_24dp.svg" />
        </button>
      </div>
    </div>

    <script src="src/main.mjs" type="module"></script>
  </body>
</html>
